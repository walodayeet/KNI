# =============================================================================
# KNI Platform - Production Environment Configuration for Coolify
# =============================================================================
# This file contains production environment variables for Coolify deployment
# Copy these variables to your Coolify environment configuration

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=production
APP_NAME="KNI Platform"
APP_VERSION="1.0.0"

# Application URLs - UPDATE THESE WITH YOUR DOMAIN
NEXT_PUBLIC_APP_URL=https://your-domain.com
NEXTAUTH_URL=https://your-domain.com
NEXT_PUBLIC_APP_NAME="KNI Platform"
NEXT_PUBLIC_APP_DESCRIPTION="Knowledge and Intelligence Platform"

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL Configuration - UPDATE WITH YOUR DATABASE CREDENTIALS
DATABASE_URL=postgresql://kni_user:your_secure_password@postgres:5432/kni_db
DIRECT_URL=postgresql://kni_user:your_secure_password@postgres:5432/kni_db

# Database Settings
POSTGRES_DB=kni_db
POSTGRES_USER=kni_user
POSTGRES_PASSWORD=your_secure_password

DATABASE_POOL_SIZE=10
DATABASE_TIMEOUT=30000
DATABASE_SSL=false
DATABASE_LOGGING=false

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================
# IMPORTANT: Generate strong secrets for production
# Use: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long-production
NEXTAUTH_SECRET=your-nextauth-secret-minimum-32-characters-long-production
CSRF_SECRET=your-csrf-secret-here-production
ENCRYPTION_KEY=your-32-char-encryption-key-here-production

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://:your_redis_password@redis:6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0

# Cache Configuration
CACHE_TTL_DEFAULT=3600
CACHE_TTL_SHORT=300
CACHE_TTL_LONG=86400
CACHE_COMPRESSION=true

# =============================================================================
# FILE UPLOAD & STORAGE
# =============================================================================
# Upload Configuration
UPLOAD_PROVIDER=minio
NEXT_PUBLIC_MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx,txt,csv,xlsx
UPLOAD_VIRUS_SCAN=false
UPLOAD_GENERATE_THUMBNAILS=true

# MinIO Configuration (Self-hosted S3-compatible storage)
MINIO_ENDPOINT=http://minio:9000
MINIO_ACCESS_KEY=your_minio_access_key_here
MINIO_SECRET_KEY=your_minio_secret_key_here_minimum_8_chars
MINIO_BUCKET=kni-uploads
MINIO_USE_SSL=false
MINIO_REGION=us-east-1

# AWS S3 Configuration (Optional - for cloud storage)
AWS_S3_BUCKET=
AWS_S3_REGION=us-east-1
AWS_S3_ACCESS_KEY_ID=
AWS_S3_SECRET_ACCESS_KEY=
AWS_S3_ENDPOINT=

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# Email Provider Configuration
EMAIL_PROVIDER=sendgrid
EMAIL_FROM=noreply@your-domain.com
EMAIL_FROM_NAME="KNI Platform"

# SendGrid Configuration
SENDGRID_API_KEY=your_sendgrid_api_key_here
SENDGRID_TEMPLATE_ID_WELCOME=
SENDGRID_TEMPLATE_ID_RESET=
SENDGRID_TEMPLATE_ID_VERIFICATION=

# SMTP Configuration (Alternative to SendGrid)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password
SMTP_FROM=noreply@your-domain.com

# =============================================================================
# EXTERNAL API SERVICES
# =============================================================================
# OpenAI Configuration
OPENAI_API_KEY=sk-your-openai-api-key-here
OPENAI_ORGANIZATION=
OPENAI_MODEL=gpt-4

# Stripe Payment Processing
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
# Log Configuration
LOG_LEVEL=info
ENABLE_REQUEST_LOGGING=true

# Rate Limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=900000

# =============================================================================
# SEARCH CONFIGURATION (Optional)
# =============================================================================
# Search Provider
SEARCH_PROVIDER=local

# Elasticsearch (if using)
ELASTICSEARCH_URL=http://elasticsearch:9200
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# =============================================================================
# SOCIAL MEDIA & WEBHOOKS (Optional)
# =============================================================================
# Slack Integration
SLACK_BOT_TOKEN=
SLACK_SIGNING_SECRET=
SLACK_WEBHOOK_URL=

# Discord Integration
DISCORD_BOT_TOKEN=
DISCORD_CLIENT_ID=
DISCORD_CLIENT_SECRET=

# Telegram Integration
TELEGRAM_BOT_TOKEN=
TELEGRAM_WEBHOOK_URL=

# GitHub Integration
GITHUB_TOKEN=
GITHUB_WEBHOOK_SECRET=

# Twilio SMS/Voice
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# =============================================================================
# SENTRY MONITORING (Optional)
# =============================================================================
SENTRY_DSN=
SENTRY_ORG=
SENTRY_PROJECT=
SENTRY_AUTH_TOKEN=

# =============================================================================
# ADDITIONAL PRODUCTION SETTINGS
# =============================================================================
# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=5000

# Session Configuration
SESSION_CLEANUP_INTERVAL=24
JWT_EXPIRES_IN=7d

# Performance Settings
NEXT_TELEMETRY_DISABLED=1
DISABLE_ESLINT=false
DISABLE_TYPE_CHECK=false